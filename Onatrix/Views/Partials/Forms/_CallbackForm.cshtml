@using Onatrix.ViewModels
@model CallbackFormViewModel

@using (Html.BeginUmbracoForm("HandleCallbackForm", "Form", FormMethod.Post,
    new { novalidate = "novalidate", id = "callbackForm" }))
{
    <!-- 1. The wrapper gets a layout class from the parent page -->
    <div class="callback-form @ViewBag.FormLayout">

        <!-- 2. The grid – only active when .layout-2col exists -->
        <div class="callback-form__fields">

            <!-- LEFT (always) -->
            <div class="callback-form__col">
                <div class="field">
                    <label asp-for="Name" class="sr-only"></label>
                    <input asp-for="Name" type="text" placeholder="@Html.DisplayNameFor(m => m.Name)" class="input" />
                    <span asp-validation-for="Name" class="error"></span>
                </div>

                <div class="field">
                    <label asp-for="Email" class="sr-only"></label>
                    <input asp-for="Email" type="text" placeholder="@Html.DisplayNameFor(m => m.Email)" class="input" />
                    <span asp-validation-for="Email" class="error"></span>
                </div>
            </div>

            <!-- RIGHT (always) -->
            <div class="callback-form__col">
                <div class="field">
                    <label asp-for="Phone" class="sr-only"></label>
                    <input asp-for="Phone" type="text" placeholder="@Html.DisplayNameFor(m => m.Phone)" class="input" />
                    <span asp-validation-for="Phone" class="error"></span>
                </div>

                <div class="field">
                    <label asp-for="SelectedOption" class="sr-only"></label>
                    <div class="relative">
                        <select asp-for="SelectedOption" class="input pr-10 appearance-none bg-neutral">
                            <option value="" disabled hidden selected>Please select an option</option>
                            @foreach (var opt in Model.Options)
                            {
                                <option value="@opt">@opt</option>
                            }
                        </select>
                        <span class="pointer-events-none absolute inset-y-0 right-3 flex items-center">
                            <svg class="h-4 w-4 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="2">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7" />
                            </svg>
                        </span>
                    </div>
                    <span asp-validation-for="SelectedOption" class="error"></span>
                </div>
            </div>
        </div>

        <!-- 3. Submit button – style controlled by parent class -->
        <div class="callback-form__submit">
            <button type="submit">Submit</button>
        </div>
    </div>
}